# 阶段1：文本-only（Thinker-Text）

# configs/train/stage1_text_only.yaml

experiment_name: "qwen3_omni_stage1_text_7b"

model:
  config_path: "configs/model/qwen3_omni_7b_moe.yaml"

data:
  train_corpus_paths: 
    - "data/corpus/train_text.jsonl"
    - "/ai/finnox/mobvoi_seq_monkey_general_open_corpus.jsonl"
  val_corpus_paths:
    - "data/corpus/val_text.jsonl"
  max_seq_length: 2048
  num_workers: 4
  batch_size: 1           # per-GPU batch size
  shuffle: false

train:
  num_epochs: 10
  max_steps: -1           # -1 表示按 epoch 走
  gradient_accumulation_steps: 8
  learning_rate: 1e-4
  weight_decay: 0.01
  warmup_ratio: 0.03
  logging_steps: 1
  eval_steps: 1000
  save_steps: 10000
  output_dir: "outputs/stage1_text_7b"
  fp16: false
  bf16: true
  fp8: false
  int8_optimizer: false
  seed: 42
  ddp: false              # 先做单卡/单机，后面再加 FSDP / DeepSpeed
